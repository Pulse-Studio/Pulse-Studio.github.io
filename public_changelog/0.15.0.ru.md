# Версия 0.15.0

**Дата выхода:** 19 октября 2025  
**Тип:** Крупное обновление

## Что нового

- Три новых биома: Тайга, Саванна и Тундра
- Уникальные акации для саванны с изогнутыми стволами и раскидистой плоской кроной
- Многослойная система шума для генерации климата (макро- и микромасштабы)
- Деревья теперь генерируются с учётом особенностей биома
- Обновлённая климатическая карта — всего 8 биомов

## Улучшения

- Разнообразие биомов увеличено в 3-4 раза
- Пустыни теперь встречаются в 6 раз чаще — 12% вместо прежних 2%
- Горы стали вдвое выше благодаря heightModifier 4.0 и baseHeight 30
- Океаны занимают меньше места — 12% вместо 35%
- Равнины стали компактнее — 25% вместо 40%
- Перепад высот между биомами вырос с 27 до 140 блоков — в 5 раз эффектнее!
- Все существующие биомы получили улучшенные параметры для большей визуальной выразительности
- Оптимизированы переходы между биомами: радиус 1 для границы океан-суша, радиус 2 для сухопутных биомов

## Исправления

- **Критическое:** листва деревьев теперь корректно генерируется на границах чанков при новых высотах биомов
- Очередь межчанковых блоков использует правильный порядок координат (X, Y, Z)
- Деревья в саванне растут только на травянистых участках (20% территории биома)

## Технические подробности

### Новые биомы

**Тайга**
- Температура: от -0.4 до 0.0, влажность: от 0.4 до 0.8
- Холодные горные хвойные леса
- heightModifier: 1.5, baseHeight: 5
- Высота: 70-110 блоков

**Саванна**
- Температура: от 0.5 до 0.8, влажность: от 0.2 до 0.5
- Тёплые засушливые равнины с акациями
- heightModifier: 0.7, baseHeight: 2
- 80% песчаной поверхности, 20% травянистых участков
- Уникальные акации с изогнутыми стволами и плоской кроной
- Деревья растут только на траве (~0.6% площади биома)

**Тундра**
- Температура: ниже -0.5, влажность: от 0.2 до 0.6
- Промёрзшие каменистые равнины
- heightModifier: 0.5, baseHeight: -5
- Высота: 55-70 блоков

### Улучшения существующих биомов

| Биом      | heightModifier | baseHeight | Изменения                |
|-----------|----------------|------------|--------------------------|
| Равнины   | 0.8 → 1.0      | 0          | Выразительный рельеф     |
| Пустыня   | 0.6 → 0.7      | 2 → 5      | Более высокие дюны       |
| Лес       | 1.0 → 1.3      | 1 → 3      | Холмистая местность      |
| Горы      | 2.5 → 4.0      | 15 → 30    | Вдвое выше!              |
| Океан     | 0.3 → 0.2      | -12 → -20  | Более глубокие воды      |

### Климатическая система

- Макромасштабный шум (0.002/0.0025) формирует крупные климатические зоны
- Микромасштабный шум (0.01/0.012) добавляет локальные вариации
- Комбинация: 70% макро + 30% микро для реалистичного распределения
- Детерминированная генерация на основе координатных seed

### Исправления генерации деревьев

- Исправлен порядок параметров в `queueCrossChunkBlock()`
- Добавлено debug-логирование генерации деревьев (только в режиме разработки)
- Реализована система ретроактивного применения межчанковых блоков
- Деревья в саванне проверяются на размещение только на блоках травы

## Производительность

- FPS остаётся стабильным на уровне ~60 кадров в секунду
- Смешивание биомов: радиус проверки уменьшен с 3 до 2
- Переходы океан-суша оптимизированы до радиуса 1
- Память: незначительное увеличение для данных новых биомов

## Распределение биомов

**Было:**
- Океан: 35%
- Равнины: 40%
- Лес: 15%
- Горы: 8%
- Пустыня: 2%

**Стало:**
- Равнины: 25%
- Лес: 18%
- Горы: 15%
- Океан: 12%
- Пустыня: 12%
- Саванна: 10%
- Тайга: 6%
- Тундра: 2%

## Известные проблемы

- Деревья пока не адаптированы к новым биомам (все используют дубы, кроме саванны)
- Цвет травы не зависит от биома
- На горных вершинах выше 100 блоков нет снега
- В океане отсутствует разнообразие подводного рельефа

## Дополнительная информация

- **Важно:** старые миры не будут содержать новые биомы — создайте новый мир, чтобы увидеть изменения
- Debug-логирование доступно в режиме разработки (клавиша F3)
- Все параметры биомов детерминированы и совместимы с сохранениями
- Акации в саванне имеют 4 варианта изгиба ствола


